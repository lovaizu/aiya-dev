# Scenario Evaluation

| AS | Status | Method | Judgment |
|----|--------|--------|----------|
| AS1 | OK | Simulated | As a developer in work-1/, simulated running `/hi`. Read `hi.md`: Step 1 asks for my goal, Step 2 asks clarifying questions, Steps 3-4 draft the issue, Step 5 runs `gh issue create`, Step 6 reports the URL. No worktree-type detection exists in the file — the same flow runs in any worktree. An issue is created on GitHub. Then is satisfied. |
| AS2 | OK | Simulated | As a developer in work-1/, simulated running `/ok 42`. Read `ok.md`: resolves 42 to issue number, fetches issue, checks `.ciya/issues/00042/` for work records, checks for existing PR. No work records → fresh start: `basename` returns `work-1` (the base branch), updates it to latest main, creates task branch `42_goal-name`, creates design.md, drafts and creates PR. `basename` is used only to derive the base branch dynamically, not to detect worktree type. Implementation starts. Then is satisfied. |
| AS3 | OK | Simulated | As a developer, simulated approving issue #42 with `/ty`. Read `ty.md`: gate detection runs `gh pr list --head $(git branch --show-current)`. No PR exists → Gate 1 detected. Gate 1 action: agent says "Issue approved. Run `/ok <number>` to start implementation." The workflow ends — no automatic transition to implementation. Then is satisfied. |
| AS4 | OK | Executed | As a developer, listed `.claude/commands/`: bb.md, fb.md, hi.md, ok.md, ty.md. `/ok` exists as `ok.md`, a separate file from `hi.md`. Then is satisfied. |
| AS5 | OK | Simulated | As a developer, searched all files in `.claude/commands/` for worktree-type patterns (`basename`, `worktree type`, `main/`, `work-N`, `"main"`). Found `basename` only in `ok.md:45` and `ty.md:74`, both used to derive the base branch name dynamically — not to conditionally branch on worktree type. No `if worktree == main` or equivalent exists in any skill definition. Then is satisfied. |
| AS6 | OK | Simulated | As a developer, read `README.md` and searched for main/ vs work-N/ separation. No matches for "main/ vs work", "work-N/", or "worktree type". The workflow diagram shows a single linear flow with no worktree-based subgraphs. The commands table has no "Where" column. "How it works" says "use either command in any pane." Then is satisfied. |
| AS7 | OK | Simulated | As an agent, read the README and traced the full workflow: `/hi` creates issue → `/ty` detects Gate 1, says "Run `/ok N`" → `/ok N` creates branch and PR → `/ty` detects Gate 2, starts implementation → implementation completes → `/ty` detects Gate 3, merges. Cross-referenced hi.md → ty.md → ok.md → ty.md → ty.md: all handoffs between commands are consistent (each command's output matches the next command's expected input). Then is satisfied. |
